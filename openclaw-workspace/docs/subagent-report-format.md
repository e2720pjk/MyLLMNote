# 子代理回報格式指南

## 目的

確保子代理完成任務後回報包含完整概述，避免需要後續確認狀況。

---

## 標準回報格式

### 模板

```
## 子代理任務完成報告

任務：[簡短描述]
開始時間：[UTC]
結束時間：[UTC]
耗時：[約 X 分鐘]

---

### 📋 執行摘要
[簡述執行過程和主要工作]

---

### 🔍 發現與分析
- 發現 1：[描述]
- 發現 2：[描述]
- ...

---

### ✅ 已完成的操作
- [ ] 操作 1
- [ ] 操作 2
- ...

---

### ⚠️ 發現的問題 / 阻礙
- 如果沒有問題：無
- 1. [問題描述]
- 2. [問題描述]

---

### 💬 討論點 / 需要決定
- [決策點 1]
- [決策點 2]

---

### 🎯 建議的下一步
1. [建議行動]
2. [建議行動]

---

### 📁 相關文件 / 產出
- [文件路徑]
- [文件路徑]
```

---

## 範例

### OpenCode Session 恢復任務

```
## 子代理任務完成報告

任務：恢復 OpenCode 停住的 sessions
開始時間：2026-02-02T19:15:00Z
結束時間：2026-02-02T19:19:00Z
耗時：約 4 分鐘

---

### 📋 執行摘要
分析 13 個停住的 OpenCode sessions，檢查每個 session 的最後訊息和狀態，判斷是否需要恢復。

---

### 🔍 發現與分析
- 上午 10 個 sessions（6:34-6:51 AM）：全部是算術測試訊息（5+5、3+3、2+2 等），已完整完成，無需恢復
- 下午 3 個 sessions（4:06-4:54 PM）：
  - ses_3eb7a24feffed6fhocKlGZBw4F (4:54 PM)：標準問候訊息 "Hello"，無其他對話
  - ses_3eb2268a3ffe1zwatYUQg2xA15 (4:24 PM)：簡單測試 "test"
  - ses_3eb31b9faffeoiJDlCSwBIDNDB (4:06 PM)：空對話，無任何訊息
- 昨天 1 個 session（4:06 PM）：標準問候，無需操作

---

### ✅ 已完成的操作
- [x] 列出所有 sessions
- [x] 使用 opencode export 檢查每個 session 的標題和最後訊息
- [x] 評估每個 session 是否需要恢復

---

### ⚠️ 發現的問題 / 阻礙
無

---

### 💬 討論點 / 需要決定
無

---

### 🎯 建議的下一步
無需採取任何行動。所有停住的 sessions 都是簡單測試或已完成對話，不需要恢復。

---

### 📁 相關文件 / 產出
無
```

---

### 專案分析任務

```
## 子代理任務完成報告

任務：分析 llxprt-code PR 與 issue 狀態
開始時間：2026-02-02T12:00:00Z
結束時間：2026-02-02T12:15:00Z
耗時：約 15 分鐘

---

### 📋 執行摘要
克隆 e2720pjk/llxprt-code fork，分析 GitHub PR 和 issue，更新 results.md。

---

### 🔍 發現與分析
- 找到 8 個 OPEN PRs：
  - PR #49：AST-aware tools（關鍵！正在實作）
  - PR #43：UI Tabs unification
  - PRs #45-48：終端 corruption 修復（4 個嘗試）
- AST 工具有 4+ 個關鍵阻塞項目（缺少單元測試）
- UI Tabs 已達 90-95% 完成

---

### ✅ 已完成的操作
- [x] 克隆正確的 fork（e2720pjk/llxprt-code）
- [x] 執行 gh pr list 獲取所有 PR
- [x] 執行 gh issue list 獲取所有 issue
- [x] 更新 results.md，替換上游 PR 資訊為 fork PR 資訊

---

### ⚠️ 發現的問題 / 阻礙
無

---

### 💬 討論點 / 需要決定
無

---

### 🎯 建議的下一步
1. Priority 🔴：修復 AST Tools 關鍵測試和問題（8-12 小時）
2. Priority 🟡：繼續進行 Task 4 分析

---

### 📁 相關文件 / 產出
- ~/MyLLMNote/research/tasks/goals/goal-003-llxprt-code/results.md（已更新）
- ~/.openclaw/workspace/repos/llxprt-code/（已克隆）
```

---

## 使用方式

在 `sessions_spawn` 任務中加入回報要求：

```javascript
{
  task: "任務描述...\n\n## 回報要求\n\n任務完成後，回報時請使用以下格式：\n\n[上面模板中的標準格式]\n\n請包含：\n1. 執行摘要（做了什麼）\n2. 發現與分析（發現了什麼）\n3. 已完成的操作（具體做了什麼）\n4. 發現的問題（如果有）\n5. 討論點 / 需要決定\n6. 建議的下一步\n7. 相關文件 / 產出"

  // ...
}
```

---

## 驗證清單

每次子代理回報後檢查：
- ✅ 有執行摘要嗎？
- ✅ 有發現的內容嗎？
- ✅ 有完成的操作清單嗎？
- ✅ 有問題/阻礙說明嗎（或說明無）？
- ✅ 有建議的下一步嗎？
