# Task: Plan and Fix ASTEditTool Issues

- [/] Plan Changes <!-- id: 0 -->
    - [x] Verify [tool-error.ts](file:///Users/caishanghong/Shopify/cli-tool/llxprt-code-2/packages/core/src/tools/tool-error.ts) content
    - [x] Create [implementation_plan.md](file:///Users/caishanghong/.gemini/antigravity/brain/a0c75142-4be2-4289-bffc-07f99f0b5650/implementation_plan.md)
- [/] Execute Fixes <!-- id: 1 -->
    - [ ] Implement signature extraction in [ASTQueryExtractor](file:///Users/caishanghong/Shopify/cli-tool/llxprt-code-2/packages/core/src/tools/ast-edit.ts#222-375)
    - [ ] Update [executePreview](file:///Users/caishanghong/Shopify/cli-tool/llxprt-code-2/packages/core/src/tools/ast-edit.ts#1569-1680) to show Working Set context
    - [ ] Improve Git command robustness
    - [ ] Add unit tests for Freshness Check & Git Logic
- [ ] Verify Changes <!-- id: 2 -->
    - [ ] Run new unit tests
    - [ ] Manual verification via preview
